(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function o(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(e){if(e.ep)return;e.ep=!0;const n=o(e);fetch(e.href,n)}})();const u=document.getElementById("temparature"),m=document.getElementById("city"),l=document.getElementById("humidity"),f=document.getElementById("wind-speed"),s=document.getElementById("searchInput"),p=document.getElementById("searchBtn"),y=document.getElementById("weather-img"),a=document.getElementById("error"),h=async()=>{const r=await fetch("https://ipapi.co/json/"),t=await r.json();if(r.ok)return t.city},d=async r=>{const t=await fetch(`https://api.weatherapi.com/v1/forecast.json?key=4bcd1896070a4490bc2162402251504&q=${r}`),o=await t.json();t.ok?(u.innerText=o.current.temp_c+" Â°C",m.innerText=o.location.name,l.innerText=o.current.humidity+" %",f.innerText=o.current.wind_kph+" km/h",y.src=o.current.condition.icon,a.innerText=""):a.innerText=o.error.message};p.addEventListener("click",r=>{r.preventDefault();const t=s.value.trim();s.value="",t&&d(t)});document.addEventListener("DOMContentLoaded",async()=>{const r=await h();d(r)});
